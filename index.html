<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="UTF-8">
	 <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Waitstaff Calculator | Diana Duong</title>
	 <!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" href="css/styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-messages.js"></script>
	

</head>

<body>

	<div class="wrapper">
		<header>
			<h1>Waitstaff Calculator</h1>
		</header>

		<section ng-controller="CalculatorController as calc">
			<div class="container">
				<div class="row"> 
					<div class="col-xs-12 col-md-6">
						<form name="calc.inputForm" ng-submit="calc.inputForm.$valid && calc.submitForm()" novalidate>

							<div class="box">
								<h2>Enter Meal Details</h2>

								<div class="form-group" ng-class="{ 'has-error': calc.inputForm.mealPrice.$touched && calc.inputForm.mealPrice.$invalid }">
									<label>Base Meal Price: &#36;</label>
									<input id="mealPrice" type="number" 
										name="mealPrice" 
										ng-model="calc.mealPrice" 
										required />
									<div ng-messages="calc.inputForm.mealPrice.$error" ng-if="calc.inputForm.mealPrice.$touched" role="alert">
										<p ng-messages-include="messages.html"></p>
									</div>
								</div> 
								
								<div class="form-group" ng-class="{ 'has-error': calc.inputForm.mealTax.$touched && calc.inputForm.mealTax.$invalid }">
									<label>Tax Rate: &#37;</label>
									<input id="mealTax" type="number" 
										name="mealTax" 
										ng-model="calc.mealTax" 
										required />
									<div ng-messages="calc.inputForm.mealTax.$error" ng-if="calc.inputForm.mealTax.$touched" role="alert">
										<p ng-messages-include="messages.html"></p>
									</div>
								</div>

								<div class="form-group" ng-class="{ 'has-error': calc.inputForm.mealTip.$touched && calc.inputForm.mealTip.$invalid }">
									<label>Tip Percentage: &#37;</label>
									<input id="mealTip" type="number" 
										name="mealTip" 
										ng-model="calc.mealTip" 
										required />
									<div ng-messages="calc.inputForm.mealTip.$error" ng-if="calc.inputForm.mealTip.$touched">
										<p ng-messages-include="messages.html"></p>
									</div>
								</div>
								

								<div class="btns">
									<button class="btn btn-default" id="submit-btn" type="submit">Submit</button>
									<button class="btn btn-default" id="cancel-btn" type="button" ng-click="calc.cancelForm()">Cancel</button>
								</div>
							</div>
						</form> 
					</div>


					<div class="col-xs-12 col-md-6">
						<div class="box">
							<h2>Customer Charges</h2>
							<div class="charges">
								<div><span>Subtotal</span>
								<p ng-show="calc.inputForm.$valid">{{ calc.customerSubtotal | currency}}</p></div>
								
								<div><span>Tip</span>
								<p ng-show="calc.inputForm.$valid">{{ calc.customerTotalTip | currency }}</p></div>
								
								<div><span>Total</span>
								<p ng-show="calc.inputForm.$valid">{{ calc.customerTotalCharge | currency}}</p></div>
							</div>
						</div>
					</div>
	
					<div class="col-xs-12 col-md-6">
						<div class="box">
							<h2>My Earnings Info</h2>
							<div class="earnings">
								<div><span>Tip Total:</span>
								<p>{{ calc.earningsTipTotal | currency}}</p></div>

								<div><span>Meal count:</span>
								<p>{{ calc.mealCount }}</p></div>

								<div><span>Average Tip Per Meal:</span>
								<p>{{ calc.avgTip | currency}}</p></div>
							</div>
						</div>
					</div>

					<div>
						<button class="btn btn-default" id="reset" ng-click="calc.resetForm()">Reset</button>
					</div> 

				</div>
			</div>
		</section>
	</div> 
	<script src="js/script.js" type="text/javascript"></script>
</body>
</html>